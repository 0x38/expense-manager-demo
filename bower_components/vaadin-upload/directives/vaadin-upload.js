var __decorate=this&&this.__decorate||function(e,t,i,n){if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)return Reflect.decorate(e,t,i,n);switch(arguments.length){case 2:return e.reduceRight(function(e,t){return t&&t(e)||e},t);case 3:return e.reduceRight(function(e,n){return void(n&&n(t,i))},void 0);case 4:return e.reduceRight(function(e,n){return n&&n(t,i,e)||e},n)}},__metadata=this&&this.__metadata||function(e,t){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(e,t):void 0},core_1=require("@angular/core"),Polymer=window.Polymer,VaadinUpload=function(){function e(e){return this._initialValueSet=!1,this.filesChange=new core_1.EventEmitter(!1),Polymer&&Polymer.isInstance(e.nativeElement)?(this._element=e.nativeElement,void(Polymer.Settings.useShadow||this._element.async(this._observeMutations.bind(this)))):void console.error("vaadin-upload has not been imported yet, please remember to import vaadin-upload.html in your main HTML page.")}return e.prototype.fileschanged=function(){return this._initialValueSet?void this.filesChange.emit(this._element.files):void(this._initialValueSet=!0)},e.prototype._observeMutations=function(){var e=this,t=Polymer.dom(this._element),i={childList:!0,subtree:!0};[].slice.call(this._element.childNodes,0).forEach(function(i){e._isLightDomChild(i)&&t.appendChild(i)});var n=new MutationObserver(function(o){n.disconnect(),o.forEach(function(i){[].forEach.call(i.addedNodes,function(i){e._isLightDomChild(i)&&i.parentElement===e._element&&t.appendChild(i)}),[].forEach.call(i.removedNodes,function(e){t.children.indexOf(e)>-1&&t.removeChild(e)})}),setTimeout(function(){n.observe(e._element,i)},0)});n.observe(this._element,i)},e.prototype._isLightDomChild=function(e){return!e.tagName||!e.classList.contains("vaadin-upload")},__decorate([core_1.Output(),__metadata("design:type",core_1.EventEmitter)],e.prototype,"filesChange"),Object.defineProperty(e.prototype,"fileschanged",__decorate([core_1.HostListener("files-changed"),__metadata("design:type",Function),__metadata("design:paramtypes",[]),__metadata("design:returntype",void 0)],e.prototype,"fileschanged",Object.getOwnPropertyDescriptor(e.prototype,"fileschanged"))),e=__decorate([core_1.Directive({selector:"vaadin-upload"}),__metadata("design:paramtypes",[core_1.ElementRef])],e)}();exports.VaadinUpload=VaadinUpload;