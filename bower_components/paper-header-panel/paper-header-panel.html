<html><head><link rel="import" href="../polymer/polymer.html"><link rel="import" href="../iron-flex-layout/iron-flex-layout.html"></head><body><dom-module id="paper-header-panel"><template><style>:host{@apply (--layout-vertical);position:relative;height:100%;@apply (--paper-header-panel);}#mainContainer{@apply (--layout-flex);position:relative;overflow-y:auto;overflow-x:hidden;-webkit-overflow-scrolling:touch;}#mainPanel{@apply (--layout-vertical);@apply (--layout-flex);position:relative;min-height:0;@apply (--paper-header-panel-body);}#mainContainer{@apply (--paper-header-panel-container);}:host([mode=scroll]) #mainContainer{@apply (--paper-header-panel-scroll-container);overflow:visible;}:host([mode=scroll]){overflow-y:auto;overflow-x:hidden;-webkit-overflow-scrolling:touch;}:host([mode=cover]) #mainContainer{@apply (--paper-header-panel-cover-container);position:absolute;top:0;right:0;bottom:0;left:0;}:host([mode=cover]) #mainPanel{position:static;}:host([mode=standard]) #mainContainer{@apply (--paper-header-panel-standard-container);}:host([mode=seamed]) #mainContainer{@apply (--paper-header-panel-seamed-container);}:host([mode=waterfall]) #mainContainer{@apply (--paper-header-panel-waterfall-container);}:host([mode=waterfall-tall]) #mainContainer{@apply (--paper-header-panel-waterfall-tall-container);}#dropShadow{transition:opacity 0.5s;height:6px;box-shadow:inset 0px 5px 6px -3px rgba(0, 0, 0, 0.4);@apply (--paper-header-panel-shadow);position:absolute;top:0;left:0;right:0;opacity:0;pointer-events:none;}#dropShadow.has-shadow{opacity:1;}</style><content id="headerContent" select="paper-toolbar, .paper-header"></content><div id="mainPanel"><div id="mainContainer" class$="[[_computeMainContainerClass(mode)]]"><content id="mainContent" select="*"></content></div><div id="dropShadow"></div></div></template><script>(function(){'use strict';var a=1,b=2,c={outerScroll:{scroll:!0},shadowMode:{standard:b,waterfall:a,'waterfall-tall':a},tallMode:{'waterfall-tall':!0}};Polymer({is:'paper-header-panel',properties:{mode:{type:String,value:'standard',observer:'_modeChanged',reflectToAttribute:!0},shadow:{type:Boolean,value:!1},tallClass:{type:String,value:'tall'},atTop:{type:Boolean,value:!0,notify:!0,readOnly:!0,reflectToAttribute:!0}},observers:['_computeDropShadowHidden(atTop, mode, shadow)'],ready:function(){this.scrollHandler=this._scroll.bind(this)},attached:function(){this._addListener(),this._keepScrollingState()},detached:function(){this._removeListener()},get header(){return Polymer.dom(this.$.headerContent).getDistributedNodes()[0]},get scroller(){return this._getScrollerForMode(this.mode)},get visibleShadow(){return this.$.dropShadow.classList.contains('has-shadow')},_computeDropShadowHidden:function(e,f){var h=c.shadowMode[f];this.shadow?this.toggleClass('has-shadow',!0,this.$.dropShadow):h===b?this.toggleClass('has-shadow',!0,this.$.dropShadow):h!==a||e?this.toggleClass('has-shadow',!1,this.$.dropShadow):this.toggleClass('has-shadow',!0,this.$.dropShadow)},_computeMainContainerClass:function(e){var f={flex:'cover'!==e};return Object.keys(f).filter(function(g){return f[g]}).join(' ')},_addListener:function(){this.scroller.addEventListener('scroll',this.scrollHandler,!1)},_removeListener:function(){this.scroller.removeEventListener('scroll',this.scrollHandler)},_modeChanged:function(e,f){var g=c,h=this.header;h&&(g.tallMode[f]&&!g.tallMode[e]?(h.classList.remove(this.tallClass),this.async(function(){h.classList.remove('animate')},200)):this.toggleClass('animate',g.tallMode[e],h)),this._keepScrollingState()},_keepScrollingState:function(){var e=this.scroller,f=this.header;this._setAtTop(0===e.scrollTop),f&&this.tallClass&&c.tallMode[this.mode]&&this.toggleClass(this.tallClass,this.atTop||f.classList.contains(this.tallClass)&&e.scrollHeight<this.offsetHeight,f)},_scroll:function(){this._keepScrollingState(),this.fire('content-scroll',{target:this.scroller},{bubbles:!1})},_getScrollerForMode:function(e){return c.outerScroll[e]?this:this.$.mainContainer}})})();</script></dom-module></body></html>