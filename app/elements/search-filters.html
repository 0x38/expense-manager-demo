<link rel="import" href="../bower_components/polymer/polymer.html">
<link rel="import" href="../bower_components/paper-input/paper-input.html">
<link rel="import" href="../bower_components/paper-checkbox/paper-checkbox.html">
<link rel="import" href="../bower_components/iron-flex-layout/classes/iron-flex-layout.html">
<link rel="import" href="checkbox-group.html">

<dom-module id="search-filters">
  <template>
    <style>
      :host {
        display: block;
        padding: 16px;
      }

      .status {
        width: 100%;
        margin-top: 16px;
      }

      paper-input {
        margin-right: 4px;
        margin-left: 4px;
      }

      .merchants {
        min-width: 200px;
      }

      .status paper-checkbox {
        margin-left: 16px;
        --paper-checkbox-unchecked-color: var(--accent-color);
      }

      @media (max-width: 600px) {
        #content .merchants,
        #content .total,
        #content .status {
          display: none;
        }

        #content .date paper-input {
          width: 45%;
        }
      }

      @media (max-width: 480px) {
        :host {
          padding: 0 16px;
        }
      }
    </style>

    <div id="content">
      <div class="filters layout horizontal wrap justified">

        <div class="date layout horizontal wrap center">
          <paper-input label="After" value="{{filters.start}}"></paper-input>
          <paper-input label="Before" value="{{filters.end}}"></paper-input>
        </div>

        <div class="merchants flex">
          <paper-input label="Merchant" value="{{filters.merchant}}"></paper-input>
        </div>

        <div class="total layout horizontal center wrap">
          <paper-input label="Min ($)" value="{{filters.min}}"></paper-input>
          <paper-input label="Max ($)" value="{{filters.max}}"></paper-input>
        </div>

        <div class="status">
          <span class="caption">Status</span>
          <paper-checkbox on-change="_updateStatus" name="new">New</paper-checkbox>
          <paper-checkbox on-change="_updateStatus" name="in_progress">In progress</paper-checkbox>
          <paper-checkbox on-change="_updateStatus" name="reimbursed">Reimbursed</paper-checkbox>
        </div>
      </div>
    </div>
  </template>

  <script>
    (function () {
      'use strict';

      Polymer({
        is: 'search-filters',

        properties: {
          filters: {
            type: Object,
            notify: true
          }
        },

        _updateStatus: function (evt) {
          console.log('status filtering not yet implemented.');
        },

        contains: function (a, obj) {
          for (var i = 0; i < a.length; i++) {
            if (a[i] === obj) {
              return true;
            }
          }
          return false;
        }
      });
    })();
  </script>
</dom-module>


