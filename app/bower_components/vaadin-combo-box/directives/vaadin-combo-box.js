var __decorate=this&&this.__decorate||function(e,t,o,n){if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)return Reflect.decorate(e,t,o,n);switch(arguments.length){case 2:return e.reduceRight(function(e,t){return t&&t(e)||e},t);case 3:return e.reduceRight(function(e,n){return void(n&&n(t,o))},void 0);case 4:return e.reduceRight(function(e,n){return n&&n(t,o,e)||e},n)}},__metadata=this&&this.__metadata||function(e,t){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(e,t):void 0},core_1=require("@angular/core"),common_1=require("@angular/common"),Polymer=window.Polymer,VAADIN_COMBO_BOX_CONTROL_VALUE_ACCESSOR=new core_1.Provider(common_1.NG_VALUE_ACCESSOR,{useExisting:core_1.forwardRef(function(){return VaadinComboBox}),multi:!0}),VaadinComboBox=function(){function e(e,t,o,n){var r=this;return this._injector=o,this._initialValueSet=!1,this.onChange=function(e){},this.onTouched=function(){},this.valueChange=new core_1.EventEmitter(!1),Polymer&&Polymer.isInstance(t.nativeElement)?(this._renderer=e,this._element=t.nativeElement,this._differ=n.find([]).create(null),void this._element.$$("input").addEventListener("blur",function(){r.onTouched()})):void console.error("vaadin-combo-box has not been imported yet, please remember to import vaadin-combo-box.html in your main HTML page.")}return e.prototype.writeValue=function(e){this._renderer.setElementProperty(this._element,"value",e)},e.prototype.registerOnChange=function(e){this.onChange=e},e.prototype.registerOnTouched=function(e){this.onTouched=e},e.prototype.ngOnInit=function(){this._control=this._injector.get(common_1.NgControl,null)},e.prototype.ngDoCheck=function(){var e=this._differ.diff(this.items);e&&(this._element.items=e.collection.slice(0))},e.prototype.valuechanged=function(e){var t=this;this.valueChange.emit(e),this._initialValueSet?this.onChange(e):this._initialValueSet=!0,null!=this._control&&setTimeout(function(){t._element.invalid=!t._control.pristine&&!t._control.valid},0)},__decorate([core_1.Input(),__metadata("design:type",Array)],e.prototype,"items"),__decorate([core_1.Output(),__metadata("design:type",core_1.EventEmitter)],e.prototype,"valueChange"),Object.defineProperty(e.prototype,"valuechanged",__decorate([core_1.HostListener("value-changed",["$event.detail.value"]),__metadata("design:type",Function),__metadata("design:paramtypes",[Object]),__metadata("design:returntype",void 0)],e.prototype,"valuechanged",Object.getOwnPropertyDescriptor(e.prototype,"valuechanged"))),e=__decorate([core_1.Directive({selector:"vaadin-combo-box",providers:[VAADIN_COMBO_BOX_CONTROL_VALUE_ACCESSOR]}),__metadata("design:paramtypes",[core_1.Renderer,core_1.ElementRef,core_1.Injector,core_1.IterableDiffers])],e)}();exports.VaadinComboBox=VaadinComboBox;